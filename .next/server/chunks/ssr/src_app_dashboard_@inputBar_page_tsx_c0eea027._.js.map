{"version":3,"sources":["turbopack:///[project]/src/app/dashboard/@inputBar/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport { Context } from \"@/app/StoreProvider\";\nimport Confetti from \"react-confetti\";\n\nconst MoodInput = () => {\n  const { store } = useContext(Context);\n  const [moodText, setMoodText] = useState(\"\");\n  const [isValidMood, setIsValidMood] = useState(false);\n  const [showConfetti, setShowConfetti] = useState(false);\n  const [windowDimension, setWindowDimension] = useState({\n    width: typeof window !== \"undefined\" ? window.innerWidth : 0,\n    height: typeof window !== \"undefined\" ? window.innerHeight : 0,\n  });\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    const detectSize = () => {\n      setWindowDimension({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    };\n    window.addEventListener(\"resize\", detectSize);\n    return () => {\n      window.removeEventListener(\"resize\", detectSize);\n    };\n  }, []);\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value;\n    setMoodText(value);\n    const regex = /^[A-Za-z]/;\n    setIsValidMood(regex.test(value) && value.length >= 10);\n  };\n\n  const handleSendMood = async () => {\n    if (!isValidMood || store.isLoading) {\n      return;\n    }\n\n    store.setIsLoading(true);\n\n    try {\n      await store.sendMood(moodText);\n      setMoodText(\"\");\n      setIsValidMood(false);\n      setShowConfetti(true);\n      setTimeout(() => setShowConfetti(false), 3000);\n    } catch (error) {\n      console.error(\"Error sending mood:\", error);\n    } finally {\n      store.setIsLoading(false);\n    }\n  };\n\n  return (\n    <>\n      <div className=\"flex flex-col gap-2 bg-neutral-100 p-2 sm:p-4 rounded-3xl sm:rounded-4xl shadow-md\">\n        <div className=\"flex items-center w-full\">\n          <input\n            type=\"text\"\n            value={moodText}\n            onChange={handleInputChange}\n            placeholder=\"Describe your mood (min 10 English letters)...\"\n            className={`flex-1 p-3 rounded-3xl sm:rounded-4xl bg-white focus:outline-none focus:ring-2 transition-colors duration-300 ease-in-out ${\n              isValidMood\n                ? \"focus:ring-green-500 border-green-500\"\n                : \"focus:ring-red-500 border-red-500\"\n            }`}\n          />\n          <button\n            onClick={handleSendMood}\n            disabled={!isValidMood || store.isLoading}\n            className={`flex-shrink-0 ml-2 px-6 py-3 rounded-3xl sm:rounded-4xl items-center justify-center font-bold text-sm sm:text-base transition-colors duration-300 ease-in-out\n            ${\n              !isValidMood || store.isLoading\n                ? \"bg-gray-300 text-gray-500 cursor-not-allowed\"\n                : \"bg-amber-200 hover:bg-amber-300 focus:bg-amber-300\"\n            }`}\n          >\n            {store.isLoading ? \"...\" : \"Send\"}\n          </button>\n        </div>\n        {!isValidMood && moodText.length > 0 && (\n          <p className=\"text-red-500 text-xs px-2 sm:px-3\">\n            Error: Please use only English letters, and your text must be at least\n            10 characters long.\n          </p>\n        )}\n      </div>\n      {showConfetti && (\n        <Confetti\n          width={windowDimension.width}\n          height={windowDimension.height}\n          recycle={false}\n          numberOfPieces={200}\n          tweenDuration={3000}\n        />\n      )}\n    </>\n  );\n};\n\nexport default observer(MoodInput);"],"names":[],"mappings":"+EAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,aAqGe,CAAA,EAAA,EAAA,QAAA,AAAQ,EAnGL,AAmGM,KAlGtB,GAAM,OAAE,CAAK,CAAE,CAAG,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAA,OAAO,EAC9B,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACnC,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACzC,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC3C,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,CACrD,MAA2D,CAApD,CACP,OAA6D,CAArD,AACV,GAEA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAYV,EAAG,EAAE,CAhBoC,CAyBzC,IAAM,EAAiB,EAxBmB,QAyBxC,GAAI,AAAC,IAAe,EAAM,SAAS,EAAE,AAIrC,EAAM,YAAY,EAAC,GAEnB,GAAI,CACF,MAAM,EAAM,QAAQ,CAAC,GACrB,EAAY,IACZ,GAAe,GACf,GAAgB,GAChB,WAAW,IAAM,GAAgB,GAAQ,IAC3C,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,sBAAuB,EACvC,QAAU,CACR,EAAM,YAAY,CAAC,GACrB,EACF,EAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+FACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qCACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,MAAO,EACP,SAlCgB,AAAC,CAkCP,GAjClB,IAAM,EAAQ,EAAE,MAAM,CAAC,KAAK,CAC5B,EAAY,GAEZ,EADc,AACC,YAAM,IAAI,CAAC,IAAU,EAAM,MAAM,EAAI,GACtD,EA8BU,YAAY,iDACZ,UAAW,CAAC,0HAA0H,EACpI,EACI,wCACA,oCAAA,CACJ,GAEJ,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,SAAU,CAAC,GAAe,EAAM,SAAS,CACzC,UAAW,CAAC;YACZ,EACE,CAAC,GAAe,EAAM,SAAS,CAC3B,+CACA,qDAAA,CACJ,UAED,EAAM,SAAS,CAAG,MAAQ,YAG9B,CAAC,GAAe,EAAS,MAAM,CAAG,GACjC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,6CAAoC,kGAMpD,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAQ,CAAA,CACP,MAAO,EAAgB,KAAK,CAC5B,OAAQ,EAAgB,MAAM,CAC9B,SAAS,EACT,eAAgB,IAChB,cAAe,QAKzB"}