{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/dmytrobarbara/%D0%A0%D0%B0%D0%B1%D0%BE%D1%87%D0%B8%D0%B9%20%D1%81%D1%82%D0%BE%D0%BB/projects/SoulSync-frontend/src/app/dashboard/%40inputBar%20copy/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport { Context } from \"@/app/StoreProvider\";\nimport Confetti from \"react-confetti\";\n\nconst MoodInput = () => {\n  const { store } = useContext(Context);\n  const [moodText, setMoodText] = useState(\"\");\n  const [isValidMood, setIsValidMood] = useState(false);\n  const [showConfetti, setShowConfetti] = useState(false);\n  const [windowDimension, setWindowDimension] = useState({\n    width: typeof window !== \"undefined\" ? window.innerWidth : 0,\n    height: typeof window !== \"undefined\" ? window.innerHeight : 0,\n  });\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    const detectSize = () => {\n      setWindowDimension({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    };\n    window.addEventListener(\"resize\", detectSize);\n    return () => {\n      window.removeEventListener(\"resize\", detectSize);\n    };\n  }, []);\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value;\n    setMoodText(value);\n    const regex = /^[A-Za-z]/;\n    setIsValidMood(regex.test(value) && value.length >= 10);\n  };\n\n  const handleSendMood = async () => {\n    if (!isValidMood || store.isLoading) {\n      return;\n    }\n\n    store.setIsLoading(true);\n\n    try {\n      await store.sendMood(moodText);\n      setMoodText(\"\");\n      setIsValidMood(false);\n      setShowConfetti(true);\n      setTimeout(() => setShowConfetti(false), 3000);\n    } catch (error) {\n      console.error(\"Error sending mood:\", error);\n    } finally {\n      store.setIsLoading(false);\n    }\n  };\n\n  return (\n    <>\n      <div className=\"flex flex-col gap-2 bg-neutral-100 p-2 sm:p-4 rounded-3xl sm:rounded-4xl shadow-md\">\n        <div className=\"flex items-center w-full\">\n          <input\n            type=\"text\"\n            value={moodText}\n            onChange={handleInputChange}\n            placeholder=\"Describe your mood (min 10 English letters)...\"\n            className={`flex-1 p-3 rounded-3xl sm:rounded-4xl bg-white focus:outline-none focus:ring-2 transition-colors duration-300 ease-in-out ${\n              isValidMood\n                ? \"focus:ring-green-500 border-green-500\"\n                : \"focus:ring-red-500 border-red-500\"\n            }`}\n          />\n          <button\n            onClick={handleSendMood}\n            disabled={!isValidMood || store.isLoading}\n            className={`flex-shrink-0 ml-2 px-6 py-3 rounded-3xl sm:rounded-4xl items-center justify-center font-bold text-sm sm:text-base transition-colors duration-300 ease-in-out\n            ${\n              !isValidMood || store.isLoading\n                ? \"bg-gray-300 text-gray-500 cursor-not-allowed\"\n                : \"bg-amber-200 hover:bg-amber-300 focus:bg-amber-300\"\n            }`}\n          >\n            {store.isLoading ? \"...\" : \"Send\"}\n          </button>\n        </div>\n        {!isValidMood && moodText.length > 0 && (\n          <p className=\"text-red-500 text-xs px-2 sm:px-3\">\n            Error: Please use only English letters, and your text must be at least\n            10 characters long.\n          </p>\n        )}\n      </div>\n      {showConfetti && (\n        <Confetti\n          width={windowDimension.width}\n          height={windowDimension.height}\n          recycle={false}\n          numberOfPieces={200}\n          tweenDuration={3000}\n        />\n      )}\n    </>\n  );\n};\n\nexport default observer(MoodInput);"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AACA;AALA;;;;;;AAOA,MAAM,YAAY;IAChB,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,mNAAU,EAAC,uIAAO;IACpC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IACjD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAC;QACrD,OAAO,sCAAgC,0BAAoB;QAC3D,QAAQ,sCAAgC,0BAAqB;IAC/D;IAEA,IAAA,kNAAS,EAAC;QACR,wCAAmC;;;QACnC,MAAM;IAUR,GAAG,EAAE;IAEL,MAAM,oBAAoB,CAAC;QACzB,MAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;QAC5B,YAAY;QACZ,MAAM,QAAQ;QACd,eAAe,MAAM,IAAI,CAAC,UAAU,MAAM,MAAM,IAAI;IACtD;IAEA,MAAM,iBAAiB;QACrB,IAAI,CAAC,eAAe,MAAM,SAAS,EAAE;YACnC;QACF;QAEA,MAAM,YAAY,CAAC;QAEnB,IAAI;YACF,MAAM,MAAM,QAAQ,CAAC;YACrB,YAAY;YACZ,eAAe;YACf,gBAAgB;YAChB,WAAW,IAAM,gBAAgB,QAAQ;QAC3C,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,uBAAuB;QACvC,SAAU;YACR,MAAM,YAAY,CAAC;QACrB;IACF;IAEA,qBACE;;0BACE,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCACC,MAAK;gCACL,OAAO;gCACP,UAAU;gCACV,aAAY;gCACZ,WAAW,CAAC,0HAA0H,EACpI,cACI,0CACA,qCACJ;;;;;;0CAEJ,8OAAC;gCACC,SAAS;gCACT,UAAU,CAAC,eAAe,MAAM,SAAS;gCACzC,WAAW,CAAC;YACZ,EACE,CAAC,eAAe,MAAM,SAAS,GAC3B,iDACA,sDACJ;0CAED,MAAM,SAAS,GAAG,QAAQ;;;;;;;;;;;;oBAG9B,CAAC,eAAe,SAAS,MAAM,GAAG,mBACjC,8OAAC;wBAAE,WAAU;kCAAoC;;;;;;;;;;;;YAMpD,8BACC,8OAAC,0KAAQ;gBACP,OAAO,gBAAgB,KAAK;gBAC5B,QAAQ,gBAAgB,MAAM;gBAC9B,SAAS;gBACT,gBAAgB;gBAChB,eAAe;;;;;;;;AAKzB;uCAEe,IAAA,mKAAQ,EAAC","debugId":null}}]
}